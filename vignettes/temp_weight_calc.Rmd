---
title: "Untitled"
author: "Jens Åström"
date: "10/14/2018"
output: pdf_document
---

```{r setup, include=FALSE}

require(tidyverse)
require(SurveyPower)
```

```{r}
data("predWeights1km")
```

```{r}
knitr::opts_chunk$set(eval = F)
```




```{r}

system.time(predOcc500Det1 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 500,
                              noLocations = seq(50, 300, by = 50),
                              noVisits = 1,
                              detectProb = 1,
                              nIter = 999))

save(predOcc500Det1, file = "predOcc500Det1.Rdata")


```
```{r}
load("predOcc500Det1.Rdata")
```


```{r}

system.time(predOcc500Det0.8 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 500,
                              noLocations = seq(50, 300, by = 50),
                              noVisits = 1,
                              detectProb = 0.8,
                              nIter = 999))

save(predOcc500Det0.8, file = "predOcc500Det0.8.Rdata")


```
```{r}

load(file = "predOcc500Det0.8.Rdata")
plot(predOcc500Det0.8)
predOcc500Det0.8
```


```{r}

system.time(predOcc500Det0.3 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 500,
                              noLocations = seq(50, 300, by = 50),
                              noVisits = 1,
                              detectProb = 0.3,
                              nIter = 999))


save(predOcc500Det0.3, file = "predOcc500Det0.3.Rdata")


```
```{r}
load(file = "predOcc500Det0.3.Rdata")
plot(predOcc500Det0.3)
predOcc500Det0.3
```




```{r}

system.time(predOcc200Det0.8 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 200,
                              noLocations = seq(50, 600, by = 50),
                              noVisits = 1,
                              detectProb = 0.8,
                              nIter = 999))

save(predOcc200Det0.8, file = "predOcc200Det0.8.Rdata")


```
```{r}

load(file = "predOcc200Det0.8.Rdata")
plot(predOcc200Det0.8)
predOcc200Det0.8
```


```{r}

system.time(predOcc100Det0.8 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 100,
                              noLocations = seq(50, 600, by = 50),
                              noVisits = 1,
                              detectProb = 0.8,
                              nIter = 999))

save(predOcc100Det0.8, file = "predOcc100Det0.8.Rdata")


```
```{r}

load(file = "predOcc100Det0.8.Rdata")
plot(predOcc100Det0.8)
predOcc100Det0.8
```




```{r}

system.time(predOcc200Det0.3 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 200,
                              noLocations = seq(50, 600, by = 50),
                              noVisits = 1,
                              detectProb = 0.3,
                              nIter = 999))

save(predOcc200Det0.3, file = "predOcc200Det0.3.Rdata")


```
```{r}

load(file = "predOcc200Det0.3.Rdata")
plot(predOcc200Det0.3)
predOcc200Det0.3
```


```{r}

system.time(predOcc100Det0.3 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 100,
                              noLocations = seq(50, 600, by = 50),
                              noVisits = 1,
                              detectProb = 0.3,
                              nIter = 999))

save(predOcc100Det0.3, file = "predOcc100Det0.3.Rdata")


```
```{r}

load(file = "predOcc100Det0.3.Rdata")
plot(predOcc100Det0.3)
predOcc100Det0.3
```

```{r, eval = T}
knitr::opts_chunk$set(eval = T)
```

Test visiting only 1/16 of the plot.

```{r}

system.time(predOcc500Det0.05 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 500,
                              noLocations = seq(200, 1000, by = 200),
                              noVisits = 1,
                              detectProb = 0.8/16,
                              nIter = 999))

save(predOcc500Det0.05, file = "predOcc500Det0.05.Rdata")


```
```{r}

load(file = "predOcc500Det0.05.Rdata")
plot(predOcc500Det0.05)
predOcc500Det0.05
```


Test visit 4 times instead but lower no locations for same sample effort.
```{r}

system.time(predOcc500Det0.05Vis4 <- weightedDetection(occWeights = predWeights1km,
                              visWeights = predWeights1km,
                              noOccur = 500,
                              noLocations = seq(50, 250, by = 50),
                              noVisits = 4,
                              detectProb = 0.8/16,
                              nIter = 999))

save(predOcc500Det0.05Vis4, file = "predOcc500Det0.05Vis4.Rdata")


```
```{r}

load(file = "predOcc500Det0.05Vis4.Rdata")
plot(predOcc500Det0.05Vis4)
predOcc500Det0.05Vis4
```

